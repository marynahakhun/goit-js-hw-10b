{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\n\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst button = document.querySelector(`button[type=\"button\"]`)\nconst input = document.querySelector(`input[type=\"text\"]`)\nconst day = document.querySelector('[data-days]')\nconst hour = document.querySelector('[data-hours]')\nconst minute = document.querySelector('[data-minutes]')\nconst second = document.querySelector('[data-seconds]')\nlet intervalId\nfunction deactivateButton() {\n    button.disabled = true; \n}\nfunction activateButton() {\n    button.disabled = false; \n}\ndeactivateButton()\nlet userSelectedDate\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0]; \n        userSelectedDate = selectedDates[0]; \n   validateData(userSelectedDate)\n    },\n}\nflatpickr(`input[type=\"text\"]`, options\n)\n\nfunction validateData(date){\n    const specificDate = new Date(date); \n    const nowDate = new Date\n    const unixNowDate = nowDate.getTime();\nconst unixTimeSpecific = specificDate.getTime();\n\n \n if (nowDate >= specificDate) {\n    deactivateButton()\n    iziToast.show({\n        message: 'Please choose a date in the future',\n        messageColor: '#FFFFFF',\n        backgroundColor: '#B51B1B',\n        position: 'topRight',\n        iconUrl: './img/errorIcon.svg'\n    })\n }\n else{\n   activateButton()\n }\n}\n\nfunction TimeDifference(){\n    const selectedDate  = userSelectedDate? new Date(userSelectedDate) : new Date()\n    const now = new Date\n    const different = selectedDate - now\n   if (different < 0) {\n    return { days: 0, hours: 0, minutes: 0, seconds: 0 }; \n} else {\n    return convertMs(different);\n}\n}\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n}\n\nbutton.addEventListener(\"click\", () => {\n    intervalId = setInterval(() => {\n        const difference = TimeDifference();\n        day.textContent = addLeadingZero(difference.days)\n        hour.textContent = addLeadingZero(difference.hours);\n        minute.textContent = addLeadingZero(difference.minutes);\n        second.textContent = addLeadingZero(difference.seconds);\n        if (difference.days === 0 && difference.hours === 0 && difference.minutes === 0 && difference.seconds === 0) {\n            clearInterval(intervalId)}\n    }, 1000);\n    input.disabled = true;\n    deactivateButton();\n    \n});\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n  }\n  \n"],"names":["button","input","day","hour","minute","second","intervalId","deactivateButton","activateButton","userSelectedDate","options","selectedDates","validateData","flatpickr","date","specificDate","nowDate","iziToast","TimeDifference","different","convertMs","addLeadingZero","value","difference","ms","days","hours","minutes","seconds"],"mappings":"iyBAOA,MAAMA,EAAS,SAAS,cAAc,uBAAuB,EACvDC,EAAQ,SAAS,cAAc,oBAAoB,EACnDC,EAAM,SAAS,cAAc,aAAa,EAC1CC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAS,SAAS,cAAc,gBAAgB,EACtD,IAAIC,EACJ,SAASC,GAAmB,CACxBP,EAAO,SAAW,EACtB,CACA,SAASQ,GAAiB,CACtBR,EAAO,SAAW,EACtB,CACAO,EAAkB,EAClB,IAAIE,EACJ,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBF,EAAmBE,EAAc,CAAC,EAClCF,EAAmBE,EAAc,CAAC,EACvCC,EAAaH,CAAgB,CAC3B,CACL,EACAI,EAAU,qBAAsBH,CAChC,EAEA,SAASE,EAAaE,EAAK,CACvB,MAAMC,EAAe,IAAI,KAAKD,CAAI,EAC5BE,EAAU,IAAI,KACAA,EAAQ,QAAU,EACjBD,EAAa,QAAU,EAG3CC,GAAWD,GACZR,EAAkB,EAClBU,EAAS,KAAK,CACV,QAAS,qCACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAAS,qBACjB,CAAK,GAGFT,EAAgB,CAEnB,CAEA,SAASU,GAAgB,CAGrB,MAAMC,GAFgBV,EAAkB,IAAI,KAAKA,CAAgB,EAAI,IAAI,MAC7D,IAAI,KAEjB,OAAIU,EAAY,EACR,CAAE,KAAM,EAAG,MAAO,EAAG,QAAS,EAAG,QAAS,GAE1CC,EAAUD,CAAS,CAE9B,CACA,SAASE,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEAtB,EAAO,iBAAiB,QAAS,IAAM,CACnCM,EAAa,YAAY,IAAM,CAC3B,MAAMiB,EAAaL,IACnBhB,EAAI,YAAcmB,EAAeE,EAAW,IAAI,EAChDpB,EAAK,YAAckB,EAAeE,EAAW,KAAK,EAClDnB,EAAO,YAAciB,EAAeE,EAAW,OAAO,EACtDlB,EAAO,YAAcgB,EAAeE,EAAW,OAAO,EAClDA,EAAW,OAAS,GAAKA,EAAW,QAAU,GAAKA,EAAW,UAAY,GAAKA,EAAW,UAAY,GACtG,cAAcjB,CAAU,CAC/B,EAAE,GAAI,EACPL,EAAM,SAAW,GACjBM,GAEJ,CAAC,EACD,SAASa,EAAUI,EAAI,CAQnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C"}